# どこでもフィボ (Dokodemo Fib)
プライマリ画面上にフィボナッチ・リトレースメントラインを自由に描画するツールです。  
トレーディングチャート、デザイン、画像解析など様々なアプリケーションで直接描画できます。

## 動作環境
Python 3.x  
Windows, macOS

## インストール
このプロジェクトのファイルをダウンロードまたはクローンします。  
ターミナル（コマンドプロンプト）で、プロジェクトのフォルダに移動し、必要なライブラリをインストールします。

```Bash
 pip install PySide6 pynput
```

### 使い方
### 1. 起動
以下のコマンドでアプリケーションを起動します。

```Bash
python main.py
```
起動すると、システムトレイ（macOSではメニューバー）にアイコンが表示されます。

### 2. 描画
実行中のアプリアイコンをクリックします。  
描画したい場所で**fキーを長押し**します。  
そのままマウスをドラッグすると、リアルタイムでフィボナッチラインが描画されます。  
[ f ]キーを離すと、その位置でラインが固定されます。  
描画されたラインを消したい場合は、任意の箇所をクリックするだけでリセットされます。

### 3. 設定の変更
システムトレイのアイコンを右クリックし、「設定」を選択します。  
設定画面で、各レベルのチェックボックス、数値、色を自由に変更します。  
「レベルを追加」ボタンで新しい行を追加したり、「削除」で行を削除したりできます。  
「Save」を押すと、変更が `settings.json` に保存され、即座に描画へ反映されます。


## オプション設定:

### レベル設定: 
各フィボナッチレベルの数値、色、有効/無効の状態を個別に設定できます。

### 動的な編集: 
設定画面から押下キー設定[0-9a-z]、レベルの追加・削除が自由に行えます。

### 設定の永続化: 
すべての設定は `settings.json` に保存され、次回起動時も同じ設定が維持されます。

### 常駐型インターフェース: 
アプリケーションはシステムトレイ（メニューバー）に常駐し、右クリックメニューから設定や終了操作が可能です。


## settings.json について
実行スクリプトと同じディレクトリに自動で作成・保存されます。データ形式は以下の通りです。
```JSON
{
  "hotkey": "f",
  "levels": [
    {
      "enabled": true,
      "level": 0.0,
      "color": "#808080"
    },
    {
      "enabled": true,
      "level": 0.214,
      "color": "#ff0000"
    }
  ]
}
```
このファイルを直接編集することでも設定を変更できます。